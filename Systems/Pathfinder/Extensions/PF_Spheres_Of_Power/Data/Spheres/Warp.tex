\defineSphere{Warp}{You can twist space to your whim.}{You can twist space to your whim.}
\defineBaseAbility{Warp}{Teleport}{You can spend a standard action to \textit{teleport} yourself and up to a heavy load to any place within Close range. Alternately, you may \textit{teleport} a \ifinlist{Ranged Teleport}{\charWarpTalentsList}{willing creature within Close range}{touched willing creature} and their carried equipment instead of yourself. You may spend a spell point to increase your \textit{teleport} range to \ifinlist{Distant Teleport}{\charWarpTalentsList}{Long}{Medium} instead of Close. You must have line of sight to your destination.}{
	You can spend a standard action to \textit{teleport} yourself and up to a heavy load to any place within Close range. Alternately, you may \textit{teleport} a touched willing creature and their carried equipment instead of yourself. You may spend a spell point to increase your \textit{teleport} range to Medium instead of Close. You must have line of sight to your destination.}
\defineBaseAbility{Warp}{Bend Space}{Talents marked (space) grant you ways of bending and folding space. \textit{Bending space} requires a standard action, and you must be touching the target or location to be affected.}{Talents marked (space) grant you ways of bending and folding space. \textit{Bending space} requires a standard action, and you must be touching the target or location to be affected.}
\defineTalent{Distant Teleport}{When you spend a spell point to increase the range of your teleport, the range increases to Long instead of Medium.}{When you spend a spell point to increase the range of your teleport, the range increases to Long instead of Medium.}{}
\defineTalent{Emergency Teleport}{You may spend a spell point to use \textit{teleport} as an immediate action, but the range is decreased to \domath{\HalfCLMinOne * 5} ft. If used to avoid an attack or area effect, this grants the target evasion and  a +\HalfCLMinOne bonus to AC and reflex saves against that attack.\ifinlist{Distant Teleport}{\charWarpTalentsList}{}{ You must already be touching another creature to affect it with this ability.}}{
	You may spend a spell point to perform a \textit{teleport} as an immediate action. The range is decreased to 5 ft per 2 caster levels (minimum: 5 ft). If used to avoid an attack or area effect, this grants the target evasion and a dodge bonus to AC and Reflex saves equal to half your caster level (minimum 1). You cannot make a touch attack as part of this \textit{teleport}, but you may affect another creature if you are already touching them.
}{}
\defineTalent{Extradimensional Room (space)}{You create a pocket dimension composed of \arabic{charCLCount} cube\s{} 10 ft on a side, contiguously arranged as you desire. The space has a single entrance, and persists for as long as you are within it. You may spend a spell point to allow it to remain for \arabic{charCLCount} round\s without you inside.}{
	You may create a small pocket dimension, accessible through a shimmering portal that either appears in the air before you or on a touched, reasonably flat surface. This pocket dimension measures one 10-foot cube per caster level, arranged as you wish so long as the space is continuous. You can make the entrance as small as 5 ft square or as large as 10 ft square. You can select its light level and temperature (from -40° F to 120° F), but otherwise it is a featureless location. This space does not exist until you enter the portal, and continues to exists as long as you are inside. However, you may spend a spell point to create the space without entering, and allow it to remain for up to 1 round per caster level regardless of whether or not you are inside it. If the portal is placed on the ground or in some other way an unwilling creature might fall in, the creature is allowed a Reflex save to evade. Climbing the walls of this room requires a DC 20 Climb check. When this ability expires or is dispelled, all objects and creatures within this space are harmlessly ejected through the portal.}{}
\defineTalent{Extradimensional Storage (space)}{You have a permanent extradimensional space which can store up to \domath{\value{charCLCount} * 10} lbs of non-living material. You can access this space at will; placing or extracting an object is a full-round action, unless you spend a spell point to make it a swift action instead.}{
	You gain a permanent extradimensional space that may hold up to 10 pounds per caster level of non-living material. You can create a portal to this extradimensional space within arm's reach at will. Placing an object in this space or calling an object from this space requires a full-round action, but may be done as a swift action by spending a spell point. Living things and attended objects cannot be placed in your extradimensional storage. If you die, all contents of your extradimensional space appear in your square or the nearest unoccupied space.}{}
\defineTalent{Group Teleport}{You may spend a spell point to affect an extra \HalfCLMinOne{} creatures with a teleport.\ifinlist{Ranged Teleport}{\charWarpTalentsList}{}{ All targets must be touching you or someone else in the affected group.}}{
	You may spend a spell point to \textit{teleport} multiple creatures, up to 1 additional target per 2 caster levels (minimum: 1). You may choose whether or not to include yourself in the group to be \textit{teleported}. Each creature must be touching you or someone else in the affected group to be \textit{teleported}, unless you possess the Ranged Teleport talent. If you possess the Unwilling Teleport talent, you only need to spend one spell point no matter how many unwilling targets are affected. If one unwilling target makes their saving throw, other creatures are still affected as normal.}{}
\defineTalent{Plane Manipulator (space)}{You may create a dimensional anchor emanating from yourself, affecting everything within \domath{\value{charCLCount} * 10} ft of you for as long as you concentrate, or \arabic{charCLCount} minute\s without concentration if you spend a spell point. Any attempt to \textit{teleport} or cross planes within this area made by any creature fails unless they succeed at a magic skill check against you. This blocks summoning effects. You may also touch a creature from another plane and spend a spell point to banish them back to their home plane (Will negates).}{
	You may create a dimensional anchor emanating from yourself, affecting you and all creatures within 10 feet per caster level. You must concentrate each round to maintain this effect, although you may spend a spell point to allow the emanation to continue for 1 minute per caster level without concentration. Any attempt to \textit{teleport} or cross planes made by any creature within this area fails unless they succeed at an MSB check against you. This also applies to the summoning of companions and other extraplanars.
	You may also touch a creature from another plane and spend a spell point to banish them back to their home plane (Will negates).}{}
\defineTalent{Quick Teleport}{When \textit{teleporting} yourself or a group that includes yourself, you may spend an additional spell point to \textit{teleport} as a move action instead of a standard action.\ifinlist{Ranged Teleport}{\charWarpTalentsList}{}{ You may only affect another creature if you are already touching them.}}{When \textit{teleporting} yourself or a group that includes yourself, you may spend an additional spell point to \textit{teleport} as a move action instead of a standard action. You cannot make a free touch attack as part of a quick teleport, but you may affect another creature if you are already touching them.}{}
\defineTalent{Ranged Teleport}{You no longer need to be touching another creature in order to \textit{teleport} them, although the creature must still be within Close range to be affected in this manner.}{You no longer need to be touching another creature in order to \textit{teleport} them, although the creature must still be within Close range to be affected in this manner.}{}
\defineTalent{Splinter}{When \textit{teleporting} a target, you may choose to splinter it, dealing \HalfCLMinOne{}d6 damage to it, which bypasses all hardness, DR, and energy resistance.}{When \textit{teleporting} a target (usually with the Teleport Object or Unwilling Teleport talents), you may splinter the target, causing it to appear not quite as it was. This deals 1d6 damage per 2 caster levels (minimum: 1d6) to the target. This damage bypasses all hardness, DR, and energy resistance.}{}
\defineTalent{Swap Placement}{When \textit{teleporting} yourself or another creature to a location already occupied by a different creature, you may send the creature already occupying that location back to where the \textit{teleporting} creature came from.\ifinlist{Unwilling Teleport}{\charWarpTalentsList}{ This must be a willing target}{ If the second target is unwilling, you must spend a spell point and they are allowed a save as normal. If they succeed at this saving throw, the \textit{teleporting} creature returns to their point of origin unharmed}.}{
	When \textit{teleporting} yourself or another creature to a location already occupied by a different creature, you may send the creature already occupying that location back to where the \textit{teleporting} creature came from. This must be a willing target unless you possess the Unwilling Teleport talent. If the second target is unwilling, you must spend a spell point and they are allowed a save as normal. If they succeed at this saving throw, the \textit{teleporting} creature returns to their point of origin unharmed.}{}
\defineTalent{Teleport Beacon (space)}{You may designate a touched spot, object, or creature as a personal dimensional beacon which lasts for \arabic{charCLCount} hour\s. You may spend a spell point to \textit{teleport} yourself to this beacon or the beacon to yourself regardless of distance so long as you're on the same plane. You may have \arabic{charTeleportBeaconCount} beacon\s[charTeleportBeaconCount] placed at one time.\ifthenelse{\value{charTeleportBeaconCount} > 1}{\ifinlist{Group Teleport}{\charWarpTalentsList}{ You may use the Group Teleport talent to \textit{teleport} multiple teleport beacons at once. All affected teleport beacons must be \textit{teleported} to the same location (you, or an unaffected teleport beacon of your choice).}{}}{}}{
	You may designate a touched spot, object, or creature as a personal dimensional beacon, which lasts for one hour per caster level. You may spend a spell point to \textit{teleport} yourself to your teleport beacon regardless of how far away it is, so long as it is on the same plane. If your teleport beacon is a creature or object, you may instead \textit{teleport} your teleport beacon to you. You must use the Unwilling Teleport talent to do this with an unwilling creature, and they are allowed a saving throw as normal.
	You may take this talent multiple times. You may have a number of active beacons at any one time equal to the number of times you have taken this talent. If you possess multiple teleport beacons and the Group Teleport talent, you may use the Group Teleport talent to \textit{teleport} multiple teleport beacons at once, as if you were touching all affected targets. All affected teleport beacons must be \textit{teleported} to the same location (you,	or an unaffected teleport beacon of your choice).}{\newCounter{charTeleportBeaconCount}\setCounter{charTeleportBeaconCount}{#1}}
\defineTalent{Teleport Object}{You may \textit{teleport} unattended objects weighing up to \domath{\value{charCLCount} * 10} lbs.\ifinlist{Ranged Teleport}{\charWarpTalentsList}{ As a readied action you may \textit{teleport} a projectile that passes within range, redirecting it against another target if you wish. The creature launching the attack is allowed a Will save to negate the effect and you must make an attack roll against the new target, using your casting ability modifier in place of dexterity. Damage is still determined by the original attacker.}{}}{%
	You may \textit{teleport} objects independent of people. The object cannot weigh more than 10 pounds per caster level, and it cannot be in the possession of another creature (in their hand or on their person). If a creature is willing, you may \textit{teleport} the object directly into their hand or onto their person.
	\par If you possess the Ranged Teleport talent, you may, as a readied action, catch an projectile out of the air that passes within range, redirecting it against another target if you wish. The creature who initiated the attack is allowed a Will save to negate this effect, and you must make an attack roll against the new target, but using your casting ability modifier in place of Dexterity when making the attack. Damage is still determined by the creature who initiated the attack.}{}
\defineTalent{Teleport Trap}{You may place a teleport trap on an unoccupied 5 ft square \ifinlist{Ranged Teleport}{\charWarpTalentsList}{within range}{adjacent to you}, which lasts for \domath{\value{charCLCount} * 10} minutes or until triggered.\ifinlist{Unwilling Teleport}{\charWarpTalentsList}{ You must spend a spell point as usual if you want your trap to affect unwilling targets.}{ This trap can only affect willing targets.}\ifinlist{Teleport Object}{\charWarpTalentsList}{ You may choose whether or not your trap will trigger on unattended objects.}{}\ifinlist{Group Teleport}{\charWarpTalentsList}{ You may spend a spell point to allow the trap to remain until it has been triggered \domath{1 + \HalfCLMinOne} times.}{} You must specify the destination when you create the trap. You may have \arabic{charTeleportTrapCount} trap\s[charTeleportTrapCount] placed at once.%
	}{%
	You may lay a \textit{teleport} effect onto an adjacent, unoccupied 5 ft square. If you possess the Ranged Teleport talent, you may place this effect anywhere within that range. This is a latent \textit{teleport} effect, except it only activates when a creature steps onto the target square, and must target the triggering creature. You must possess the Unwilling Teleport talent and spend a spell point as usual if you want your teleport trap to affect unwilling targets. You must possess the Teleport Object talent to affect unattended objects, and may decide when making the teleport trap whether unattended objects will trigger the effect or not. If you possess the Group Teleport talent, you may spend a spell point to allow the teleport trap to remain after its initial use, affecting additional creatures who enter its square until the duration expires or it has attempted to \textit{teleport} 1 creature + 1 per 2 caster levels (minimum: 2 total). You must designate the destination where triggering creatures will be \textit{teleported} when creating a teleport trap.
	\par When a creature steps into the triggering square, the \textit{teleport} effect activates, transporting the triggering creature to the designated destination. Unwilling targets are allowed a saving throw as normal.
	\par A teleport trap lasts for 10 minutes per caster level before becoming inert. This is a magical trap with a Perception DC and Disable Device DC equal to the \textit{teleport's} save DC. You may only have one teleport trap active at a time. You may select this talent multiple times. Each time this talent is gained beyond the 1st, increase the total number of teleport traps you may have active at one time by 1.
}{\newCounter{charTeleportTrapCount}\setCounter{charTeleportTrapCount}{#1}}
\defineTalent{Unseeing Teleport}{You may spend an additional spell point when making a \textit{teleport} to no longer require line of sight to the location; instead of choosing a spot to appear, you may instead indicate a direction and distance.}{
	You may spend an additional spell point when making a \textit{teleport} to no longer require line of sight to the location; instead of choosing a spot to appear, you may instead indicate a direction and distance.
	\par If the target arrives in a place that is already occupied by a solid body, you may spend a spell point to return the target to its point of origin unharmed. Otherwise, the target takes 1d6 points of damage and is shunted to a random open space on a suitable surface within 100 feet of the intended location. If there is no free space within 100 feet, the target takes an additional 2d6 points of damage and is shunted to a free space within 1,000 feet. If there is no free space within 1,000 feet, the target takes an additional 4d6 points of damage and the \textit{teleport} simply fails.}{}
\defineTalent{Unwilling Teleport}{You may spend a spell point to \textit{teleport} an unwilling creature (Will negates).\ifinlist{Ranged Teleport}{\charWarpTalentsList}{}{ You must succeed on a melee touch attack against the target in order to affect them.} Unwilling targets may only be \textit{teleported} into open areas on solid surfaces, and gain a +4 bonus to their saving throw if the location would be directly harmful to them.}{
	You may spend a spell point to \textit{teleport} an unwilling creature as you can a willing creature. You must succeed at a melee touch attack (made as part of the standard action required to use \textit{teleport}) against the target, and the unwilling creature is allowed a Will saving throw to negate being \textit{teleported}. An unwilling creature can only be \textit{teleported} into open areas on solid surfaces (thus, they can’t be \textit{teleported} into the air or into a solid object, and any such attempt instantly fails). In addition, they gain a +4 bonus to their saving throw if the location would be directly harmful to them (onto a bed of spikes, etc.).}{}